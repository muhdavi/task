{{ define "tasks/index" }}
{{ template "globals/before" .}}
<div class="container">
  <div class="card mt-4">
    <div class="card-header">
      Create New Task
    </div>
    <div class="card-body">
      <form class="row" method="post">
        <div class="col-auto">
          <label for="content" class="visually-hidden">Content</label>
          <input type="text" class="form-control" id="content" name="content" placeholder="Content">
        </div>
        <div class="col-auto">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
  <div class="card mt-4">
    <div class="card-header">
      Task Lists
    </div>
    <ul class="list-group list-group-flush">
      {{range $index, $task := .tasks}}
      <li class="list-group-item">
        {{if $task.IsDone}}
        {{ add $index 1 }} - <del>{{ $task.Content }}</del>
        {{ else }}
        {{ add $index 1 }} - {{ $task.Content }}
        {{ end }}
        <a href="/tasks/{{ $task.ID }}/delete">Delete</a>
        |
        {{if $task.IsDone}}
        <a href="/tasks/{{ $task.ID }}/done">UnDone</a>
        {{ else }}
        <a href="/tasks/{{ $task.ID }}/done">Done</a>
        {{ end }}
      </li>
      {{ end }}
    </ul>
  </div>
</div>
{{ template "globals/after" .}}
{{ end }}